{% extends 'posts/_base.html' %}
{% from 'posts/_macros.html' import related_posts  %}
{% from 'similarity_pools/_macros.html' import similar_posts %}

{% block linkscript %}
    {{ super() }}
    <script src="{{ url_for('static', filename='javascript/similarity_posts.js') }}"></script>
{% endblock %}

{% block title %}Post # {{ post.id }}{% endblock %}

{% block content %}
    <div id="sidebar-container">
        {% include "posts/_sidebar.html" %}
        <div id="post-content">
            <section id="image-container" onclick="ResizeImage(this)" class="fullsize">
                <picture>
                    <img src="{{ post.sample_url }}" onerror="Prebooru.onImageError(this)">
                </picture>
            </section>
            {% include "posts/_site_content.html" %}
        </div>
    </div>
    <div id="related-posts">
        {{ related_posts(post) }}
    </div>
    <div id="similar-posts">
        {{ similar_posts(post) }}
    </div>
{% endblock %}

{% block pagescript %}
    <script>
        function ResizeImage(obj) {
            obj.classList.toggle('fullsize');
        }
    </script>
{% endblock %}
