{% macro artists_section(artists, section_id, booru=None, illust=None) -%}
    {% if artists is not none or booru is not none %}
        {% if artists is not iterable %}
            {% set artists = [artists] %}
            {% set singular = True %}
        {% else %}
            {% set singular = False %}
        {% endif %}
        <section id="{{ section_id }}">
            <div class="heading medium-2">
                {{ "Artist" if singular else "Artists" }}
                {% if booru is not none %}
                    [&thinsp;<span class="artist-add">{{ helpers.booru.add_artist_link(booru) }}</span>&thinsp;]
                {% endif %}
            </div>
            {% if artists | length > 0 %}
            <ul>
                {% for artist in artists %}
                    {% if artist.active %}
                        {% set li_class = 'artist-active' %}
                    {% else %}
                        {% set li_class = 'artist-deleted' %}
                    {% endif %}
                    <li class="{{ li_class }}">
                        <span class="item-heading">
                            {{ artist.show_link }} {{ helpers.artist.post_search_link(artist) }}
                            {% if not artist.primary %}
                                <span class="nonprimary-artist">(nonprimary)</span>
                            {% endif %}
                        </span>
                        <ul>
                            {% if artist.site_name != 'custom' %}
                                <li>
                                    <strong>{{ helpers.artist.site_artist_link(artist) }}</strong>
                                </li>
                                <li>
                                    <strong>Site ID:</strong> {{ artist.site_artist_id }}
                                </li>
                                <li>
                                    <strong>Account:</strong> {{ helpers.base.val_or_none(artist.site_account_value) }}
                                </li>
                                <li>
                                    <strong>Links:</strong> {{ helpers.artist.artist_links(artist) }}
                                </li>
                            {% else %}
                                <li>
                                    <strong>Domain:</strong> {{ artist.site_name }}
                                </li>
                                <li>
                                    <strong>{{ helpers.base.url_link(artist.site_url, max_len=35) }}</strong>
                                </li>
                                <li>
                                    <strong>Account:</strong> {{ helpers.base.val_or_none(artist.site_account_value) }}
                                </li>
                            {% endif %}
                            {% if booru is not none %}
                                <li>
                                    <strong>( {{ helpers.booru.remove_artist_link(booru, artist) }} )</strong>
                                </li>
                            {% endif %}
                            {% if illust is not none %}
                                <li class="illust-update-artist">({{ helpers.illust.update_artist_link(illust) }})</li>
                            {% endif %}
                        </ul>
                    </li>
                {% endfor %}
                {% if booru is not none %}
                    <li class="booru-query-artist">({{ helpers.booru.check_artists_link(booru) }})</li>
                {% endif %}
            </ul>
            {% endif %}
        </section>
    {% endif %}
{%- endmacro %}

{% macro artist_webpage(webpage) -%}
    <span class="artist-webpage">
        [<span class="{{ 'active' if webpage.active else 'inactive' }}">{{ '&nbsp;Active&nbsp;' | safe if webpage.active else 'Inactive' }}</span>]
    </span>
    {{ helpers.base.url_link(webpage.url) }}
{%- endmacro %}
